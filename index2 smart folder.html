<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Folder Organization</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

<style>
*{
margin:0;
padding:0;
box-sizing:border-box;
font-family:'Inter',sans-serif;
}

body{
background:#f5f7fa;
color:#1f2937;
}

/* LAYOUT */
.wrapper{
display:flex;
min-height:100vh;
}

/* SIDEBAR */
.sidebar{
width:240px;
background:#111827;
color:#cbd5e1;
padding:25px 20px;
}

.sidebar h3{
color:white;
margin-bottom:30px;
font-size:18px;
}

.sidebar div{
padding:10px 12px;
border-radius:6px;
cursor:pointer;
margin-bottom:6px;
font-size:14px;
}

.sidebar div:hover{
background:#1f2937;
color:white;
}

/* MAIN */
.main{
flex:1;
padding:35px;
}

/* TOPBAR */
.topbar{
display:flex;
justify-content:space-between;
align-items:center;
margin-bottom:25px;
}

.topbar h2{
font-size:20px;
font-weight:600;
}

.actions{
display:flex;
gap:10px;
}

/* BUTTONS */
.btn{
padding:8px 14px;
border-radius:6px;
border:1px solid #d1d5db;
background:white;
font-size:13px;
cursor:pointer;
transition:0.2s;
display:flex;
align-items:center;
gap:6px;
}

.btn:hover{
background:#f3f4f6;
}

.btn-primary{
background:#2563eb;
color:white;
border:none;
}

.btn-primary:hover{
background:#1e40af;
}

/* CARD */
.card{
background:white;
border-radius:10px;
padding:20px;
border:1px solid #e5e7eb;
}

/* FOLDER TREE */
.folder{
display:flex;
justify-content:space-between;
align-items:center;
padding:10px 12px;
border-radius:6px;
cursor:pointer;
font-size:14px;
}

.folder:hover{
background:#f3f4f6;
}

.folder-left{
display:flex;
align-items:center;
gap:8px;
}

.folder-actions{
display:flex;
gap:6px;
}

.sub{
margin-left:25px;
}

.file{
display:flex;
justify-content:space-between;
align-items:center;
padding:8px 12px;
font-size:13px;
color:#374151;
border-radius:6px;
}

.file:hover{
background:#f9fafb;
}

.file-left{
display:flex;
align-items:center;
gap:6px;
}

.file-actions{
display:flex;
gap:6px;
}

.hidden{
display:none;
}
</style>
</head>

<body>

<div class="wrapper">

<!-- SIDEBAR -->
<div class="sidebar">
<h3>ğŸ“˜ EduPanel</h3>
<div>ğŸ  Dashboard</div>
<div>ğŸ“¤ Upload Notes</div>
<div>ğŸ“ Smart Folders</div>
<div>â˜ Cloud</div>
<div>ğŸ”” Notifications</div>
</div>

<!-- MAIN -->
<div class="main">

<div class="topbar">
<h2>ğŸ“ Smart Folder Organization</h2>
<div class="actions">
<button class="btn">ğŸ”„ Refresh</button>
<button class="btn">ğŸ” Search</button>
<button class="btn-primary">â• New Folder</button>
</div>
</div>

<div class="card">
<div id="folders"></div>
</div>

</div>
</div>

<script>
let notes = JSON.parse(localStorage.getItem("notes")) || [
{ subject:"OOPJ", year:"2nd Year", unit:"Unit 1", file:"intro.pdf" },
{ subject:"PYTHON", year:"2nd Year", unit:"Unit 2", file:"arrays.pdf" },
{ subject:"OS", year:"2nd Year", unit:"Unit 1", file:"algebra.pdf" },
{ subject:"TAFL", year:"2nd Year", unit:"Unit 3", file:"motion.pdf" }
];

function groupNotes(){
let structure = {};
notes.forEach(n=>{
structure[n.subject] ??= {};
structure[n.subject][n.year] ??= {};
structure[n.subject][n.year][n.unit] ??= [];
structure[n.subject][n.year][n.unit].push(n.file);
});
return structure;
}

function renderFolders(){
let data = groupNotes();
let container = document.getElementById("folders");
container.innerHTML = "";

for(let subject in data){

let sDiv = document.createElement("div");
sDiv.className = "folder";
sDiv.innerHTML = `
<div class="folder-left">ğŸ“‚ <strong>${subject}</strong></div>
<div class="folder-actions">
<button class="btn">âœ Edit</button>
<button class="btn">ğŸ—‘ Delete</button>
</div>
`;
sDiv.onclick = ()=> toggle(sDiv.nextSibling);
container.appendChild(sDiv);

let yearDiv = document.createElement("div");
yearDiv.className = "sub hidden";

for(let year in data[subject]){

let y = document.createElement("div");
y.className = "folder";
y.innerHTML = `
<div class="folder-left">ğŸ“ ${year}</div>
<div class="folder-actions">
<button class="btn">âœ</button>
<button class="btn">ğŸ—‘</button>
</div>
`;
y.onclick = ()=> toggle(y.nextSibling);
yearDiv.appendChild(y);

let unitDiv = document.createElement("div");
unitDiv.className = "sub hidden";

for(let unit in data[subject][year]){

let u = document.createElement("div");
u.className = "folder";
u.innerHTML = `
<div class="folder-left">ğŸ“˜ ${unit}</div>
<div class="folder-actions">
<button class="btn">âœ</button>
<button class="btn">ğŸ—‘</button>
</div>
`;
u.onclick = ()=> toggle(u.nextSibling);
unitDiv.appendChild(u);

let files = document.createElement("div");
files.className = "sub hidden";

data[subject][year][unit].forEach(file=>{
files.innerHTML += `
<div class="file">
<div class="file-left">ğŸ“„ ${file}</div>
<div class="file-actions">
<button class="btn">ğŸ‘ View</button>
<button class="btn">â¬‡ Download</button>
<button class="btn">ğŸ—‘</button>
</div>
</div>
`;
});

unitDiv.appendChild(files);
}

yearDiv.appendChild(unitDiv);
}

container.appendChild(yearDiv);
}
}

function toggle(el){
el.classList.toggle("hidden");
}

renderFolders();
</script>

</body>
</html>
